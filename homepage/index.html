<html>

<!--  
======================================================================================================
- 개인 홈페이지 코드 
- 유지보수 : Since 2024.09.29
======================================================================================================
-->
  
<!-- 
안쓰는 코드
<iframe width="560" height="315" src="https://www.youtube.com/embed/Cd3g8WZapSs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<img src="/rurinadesico.gif" style="max-width: 100%; height: auto;"><br>  

<audio id="music" controls="" autoplay="" loop style="display:block;margin:auto; text-align: center">
   		<source src="/githubmu/zgundam1.mp3" type="audio/mp3"> </audio>
<script>
  var audio = document.getElementById("music");
  audio.volume = 0.2;
</script>
 
<a href="secret.html" TARGET="_blank">☆</a><br> 
-->  
  
 
<head>
<title> 전자 흑마법 연구실 </title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport">
  

 <!-- CSS -->
<style>
  body {background-color : black}
  div {color : white}
</style>


 <!-- 마우스 우클릭 금지 -->
<script type="text/javascript">
function keydowncheck()
{
var result = true;
var keycode = event.keyCode;
if(123 == keycode)  
{
result = false;
}
return result;
}

</script>


  <!--구글 광고-->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9295235574150753"
     crossorigin="anonymous"></script>

</head>

  
  
 <!-- 마우스 우클릭 금지2 -->  
<body LINK="WHITE" VLINK="WHITE" oncontextmenu='return false' onselectstart='return false' ondragstart='return false' onkeydown="return keydowncheck();">





 <!-- 제목과 헤드 -->
<div align="center">  
<h1><strong><b> 전자 흑마법 연구실 </b></strong></h1>
<br>  
  <p> - Since 2024 - </p>
<br>
 

 <!-- 대문 이미지 -->
<img src="mainpic.jpg" style="max-width: 80%; height: auto;"><br>  
<br>  
<br>  


<!-- 음악 (비활성)
<audio id="music" controls="" autoplay="" loop style="display:block;margin:auto; text-align: center">
   		<source src="\pm2.mp3" type="audio/mp3"> </audio>
<script>
  var audio = document.getElementById("music");
  audio.volume = 0.5;
</script>
<br>
 -->

  
 <!-- 본문 -->
<h3>◀ 소개 ▶</h3><br>   
프로그래밍은 현대의 마법이며 프로그래머는 마법사이다<br>
<br>   
<br>  
<br>    
<h3>◀ 관심 ▶</h3><br> 
영어, 일본어, 프로그래밍, 독서 <br> 
8090만화, 마크로스, 에반게리온, 전대, 울트라맨 <br> 
FC/SFC/DOS/PC9801/PS1,2,4/VITA/STEAM<br> 
파이널판타지, 드래곤퀘스트, 페르소나<br> 
코에이, 블리자드, 팔콤, 은하영웅전설<br> 
<br>  
<br>  
<br> 
<br>  
<br>  
<br>   


<!-- 
  년도별로 폴더 구별
  파일명은 년원일_제목
-->


<h3>◀ 메뉴 ▶</h3><br> 
<a href="/homepage/diary/diary.html"> 일상 </a><br> 
<br>  
<a href="/homepage/hpsns/hpsns.html"> HP SNS </a><br> 
<br>     
<a href="/homepage/game/game.html"> 게임 </a><br> 
<br>   
<a href="/homepage/programming/programming.html"> 프로그래밍 </a><br> 
<br>     
<a href="/homepage/study/study.html"> 공부 </a><br> 
<br>  
<a href="/homepage/book/book.html"> 독서 </a><br> 
<br> 
<a href="/homepage/comics/comics.html"> 만화 </a><br> 
<br>   
<a href="/homepage/movie/movie.html"> 영화 </a><br> 
<br>
<a href="/homepage/music/music.html"> 음악 </a><br> 
<br>     
<a href="/homepage/link/link.html"> 링크 모음 </a><br> 
<br>   
<a href="/homepage/history/history.html"> 히스토리 및 아카이브 </a><br> 
<br>
<br>  
<br>
<br> 

</div>  
  

<div align="center">
  Copyright (c) leetaekyungdev All rights reserved.
</div>
 

  
<!-- 안쓰는코드 -->  
<!--   
<nav class=nav>

<div align="center">
</div>

</nav>
--> 


<!-- 배경음악 태그 -->
<audio id='bgm' muted="true" autoplay="true"></audio>
  
var myBgm = $('#bgm')[0];
var bgmSource = [
    {title: '테스트',
     src: '/music/nanpa2.mp3'} 
   ,{title: '테스트',
     src: '/music/isaku.mp3'}
];
var saveIndex = window.localStorage.getItem('current-bgm-index');
var currentIndex = saveIndex?Number(saveIndex):Math.floor(Math.random()*bgmSource.length);
var currentVolume = Number(window.localStorage.getItem('current-bgm-volume'))||0.1;
var bgmStart = false;
var bgmPlaying = false;


function saveBgmStatus() {
    if(Date.now() - Number(window.localStorage.getItem('visit-time')) < 1000*60*60 || window.localStorage.getItem('visit-time') == null) {
        window.localStorage.setItem('current-bgm-index', currentIndex);
        window.localStorage.setItem('current-bgm-time', myBgm.currentTime);			
    } else {
        window.localStorage.setItem('current-bgm-index', Math.floor(Math.random()*bgmSource.length));
        window.localStorage.setItem('current-bgm-time', '0');				
    }
    window.localStorage.setItem('visit-time', Date.now());
    window.localStorage.setItem('current-bgm-volume', currentVolume);
}


function getCurrentBgm() {
    $('#current-bgm').html(bgmSource[currentIndex].title);
    if(window.localStorage.getItem('current-bgm') == 'stop') {
        myBgm.pause();
        $('#bgm-status').html('켜기');
        $('.bgm-box').addClass('paused');
        bgmStart = false;
        bgmPlaying = false;
    } else {
        if(!bgmPlaying){
            myBgm.src = bgmSource[currentIndex].src;
            myBgm.muted = true;				
            var promise = myBgm.play();
            if (promise !== undefined) {
                promise.then(function(){
                    bgmStart = true;
                    bgmPlaying = true;
                    var saveBgmTime = (Number(window.localStorage.getItem('current-bgm-time'))||0.0)-0.3;
                    myBgm.currentTime = (saveBgmTime>0)?saveBgmTime:0.0;
                }).catch(function(error){
                    console.log(error);
                    bgmStart = false;
                    bgmPlaying = false;
                });
            }
        }

        $('.bgm-box').removeClass('paused');
        $('#bgm-status').html('끄기');
    }
}      


function nextBgm() {
    bgmPlaying = false;
    currentIndex = (currentIndex + 1)%bgmSource.length;
    window.localStorage.setItem('current-bgm-index', null);
    window.localStorage.setItem('current-bgm-time', null);
    getCurrentBgm();
    $('.bgm-btn').blur();
}


function toggleBgm() {
    if(window.localStorage.getItem('current-bgm') == 'stop') {
        window.localStorage.setItem('current-bgm', 'play');
    } else {
        saveBgmStatus();
        window.localStorage.setItem('current-bgm', 'stop');
    }
    getCurrentBgm();
    $('.bgm-btn').blur();
}


function browserCheck(){
    if(navigator.userAgent.toLowerCase().indexOf('chrome') > 0) {
        return true;
    } else {
        return false;
    }
}

if(!browserCheck()) {
    $('#bgm-switch').css('display', 'none');
}




function bgmVolume(type) {
    if(type == '+') {
        if(currentVolume > 1.0) {
            currentVolume = 1.0;
        } else {
            currentVolume += 0.1;
        }
    } else {
        if(currentVolume < 0.0) {
            currentVolume = 0.0;
        } else {
            currentVolume -= 0.1;
        }
    }
    if(browserCheck()) {
        myBgm.volume = currentVolume;
    } else {
        if(type == '+') {
            myBgm.muted = false;
            myBgm.play();
        } else {
            myBgm.muted = true;
            myBgm.pause();
        }
    }
    $('.bgm-btn').blur();
}


          
function bgmStartHandler(e) {
    if(!bgmStart) {
        bgmStart = true;
        getCurrentBgm();
    } else {
        if(bgmPlaying) {
            saveBgmStatus();
        }
    }
}

$(window).on('click', bgmStartHandler);
$(window).on('touchstart', bgmStartHandler);
$(window).on('touchend', bgmStartHandler);

$(window).on("beforeunload",function(e){saveBgmStatus();});	
$('#bgm').on('ended',function(e){nextBgm();});

$('#bgm').on('playing', function(e){
  myBgm.volume = currentVolume;
  myBgm.muted = false;
});          






            

 </body>
</html>
